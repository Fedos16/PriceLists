async function FalseRequest(e,t){if(t)alert(e.text);else{let t=document.querySelector(".error");t?t.classList.toggle("hidden"):console.log(e.text)}}async function setQueryForServer(e,t){let n={};"params"in e&&(n=e.params);const a="/api/"+e.url;let o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)}),r=await o.json();r.ok?t(r):FalseRequest(r,"alert"in e)}function handleFiles(e){[...e].forEach(e=>{const t=e.size,n=e.type;t/1048576>100?(filePickerComponent.value="",alert("Файле не более 100 МБ")):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!=n?(filePickerComponent.value="",alert("Файле не более 100 МБ")):console.log("Что то делаем с файлом ...")})}function myUploadFile(){let e=document.querySelector(".drop_area"),t=document.querySelector("#file");function n(e){e.preventDefault(),e.stopPropagation()}function a(t){e.classList.add("highlight")}function o(t){e.classList.remove("highlight")}e&&t&&(["dragenter","dragover","dragleave","drop"].forEach(t=>{e.addEventListener(t,n,!1)}),["dragenter","dragover"].forEach(t=>{e.addEventListener(t,a,!1)}),["dragleave","drop"].forEach(t=>{e.addEventListener(t,o,!1)}),e.addEventListener("drop",function(e){handleFiles(e.dataTransfer.files)},!1),t.addEventListener("change",function(e){handleFiles(this.files)},!1))}window.onload=(async()=>{console.log("Page Loaded ..."),myUploadFile()});